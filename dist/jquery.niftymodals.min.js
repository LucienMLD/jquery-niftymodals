/*!
 * jquery.niftymodals v1.1.0 (https://github.com/foxythemes/jquery-niftymodals)
 * Copyright 2015 Foxy Themes 
 * Licensed under MIT license 
 */

!function(a){"use strict";a.fn.niftyModal=function(b){var c={overlaySelector:".md-overlay",closeSelector:".md-close",classAddAfterOpen:"md-show",modalAttr:"data-modal",perspectiveClass:"md-perspective",perspectiveSetClass:"md-setperspective",afterOpen:function(a){},afterClose:function(a){}},d={},e={init:function(b){return this.each(function(){d=a.extend({},c,b);var e=a(this);f.showModal(e)})},toggle:function(b){return this.each(function(){d=a.extend({},c,b);var e=a(this);e.hasClass(d.classAddAfterOpen)?f.removeModal(e):f.showModal(e)})},show:function(b){return d=a.extend({},c,b),this.each(function(){f.showModal(a(this))})},hide:function(b){return d=a.extend({},c,b),this.each(function(){f.removeModal(a(this))})}},f={removeModal:function(a){a.removeClass(d.classAddAfterOpen),a.css({perspective:"1300px"}),a.trigger("hide")},showModal:function(b){var c=a(d.overlaySelector),e=a(d.closeSelector,b);b.addClass(d.classAddAfterOpen),c.on("click",function(a){var e=d.afterClose(b,a);(void 0===e||e!==!1)&&(f.removeModal(b),c.off("click"))}),d.afterOpen(b),setTimeout(function(){b.css({perspective:"none"}),b.height()%2!==0&&b.css({height:b.height()+1})},500),e.on("click",function(a){var e=d.afterClose(b,a);(void 0===e||e!==!1)&&(f.removeModal(b),c.off("click")),a.stopPropagation()}),b.trigger("show")}};return e[b]?e[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error('Method "'+b+'" does not exist in niftyModal plugin!'):e.init.apply(this,arguments)}}(jQuery);