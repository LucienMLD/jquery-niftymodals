/*!
 * jquery.niftymodals v1.1.0 (https://github.com/foxythemes/jquery-niftymodals)
 * Copyright 2015 Foxy Themes 
 * Licensed under MIT license 
 */

!function(a){"use strict";a.fn.niftyModal=function(b){var c={overlaySelector:".md-overlay",closeSelector:".md-close",classAddAfterOpen:"md-show",modalAttr:"data-modal",perspectiveClass:"md-perspective",perspectiveSetClass:"md-setperspective",data:!1,buttons:!1,beforeOpen:!1,afterOpen:!1,beforeClose:!1,afterClose:!1},d={},e={},f={init:function(b){return this.each(function(){d=a.extend({},c,b),e.modalEl=this,d.data!==!1&&(e.data=b.data),g.showModal(this)})},toggle:function(b){return this.each(function(){d=a.extend({},c,b);var e=a(this);e.hasClass(d.classAddAfterOpen)?g.removeModal(e):g.showModal(e)})},show:function(b){return d=a.extend({},c,b),this.each(function(){var b=a(this);g.showModal(b)})},hide:function(b){return d=a.extend({},c,b),this.each(function(){g.removeModal(a(this))})}},g={removeModal:function(b){var c=a(b);c.removeClass(d.classAddAfterOpen),c.css({perspective:"1300px"}),c.trigger("hide")},showModal:function(b){var c=a(b),f=a(d.overlaySelector),h=a(d.closeSelector,b);return"function"==typeof d.beforeOpen&&d.beforeOpen(e)===!1?!1:(c.addClass(d.classAddAfterOpen,function(a){"function"==typeof d.afterOpen&&d.afterOpen(e)}),f.on("click",function(a){return e.closeEl=f.get(0),"function"==typeof d.beforeClose&&d.beforeClose(e,a)===!1?!1:(g.removeModal(b),f.off("click"),void("function"==typeof d.afterClose&&d.afterClose(e,a)))}),setTimeout(function(){c.css({perspective:"none"}),c.height()%2!==0&&c.css({height:c.height()+1})},500),h.on("click",function(c){if(e.closeEl=h.get(0),"function"==typeof d.beforeClose&&d.beforeClose(e,c)===!1)return!1;if(d.buttons&&a.isArray(d.buttons)){var f=!0;if(a.each(d.buttons,function(a,b){h.hasClass(b["class"])&&void 0!==typeof b.callback&&"function"==typeof b.callback&&(f=b.callback(h.get(0),e,c))}),!f)return!1}g.removeModal(b),h.off("click"),"function"==typeof d.afterClose&&d.afterClose(e,c),c.stopPropagation()}),void c.trigger("show"))}};return f[b]?f[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error('Method "'+b+'" does not exist in niftyModal plugin!'):f.init.apply(this,arguments)}}(jQuery);